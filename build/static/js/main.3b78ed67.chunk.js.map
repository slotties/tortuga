{"version":3,"sources":["Navigation.js","Welcome.js","rules/oneLeader.js","rules/validateList.js","NewList.js","data/Characters.js","ManageLists.js","App.js","index.js"],"names":["Navigation","className","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","to","Component","Welcome","oneLeader","rules","list","filter","character","length","validateList","map","rule","error","NewList","props","faction","characters","Chars","chars","item","factions","includes","sort","sortByType","state","allChars","errors","errorsVisible","char1","char2","type1","type2","name","localeCompare","indexOf","find","characterById","updatedChars","this","setState","removedIndex","_","index","CSSTransition","in","unmountOnExit","timeout","classNames","role","key","TransitionGroup","value","toLowerCase","typeNameOf","costs","onClick","removeChar","bind","href","addChar","ManageLists","App","basename","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3b78ed67.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Navigation extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"navbar navbar-expand-lg navbar-light\">\r\n          <div className=\"navbar-brand user-select-none\">Freebooter's Fate</div>\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#headerNavigation\" aria-controls=\"headerNavigation\" aria-expanded=\"false\" aria-label=\"Navigation ein-/ausblenden\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"headerNavigation\">\r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/new\" className=\"nav-link user-select-none\">Neue Liste anlegen</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/lists\" className=\"nav-link user-select-none\">Listen verwalten</Link>\r\n              </li>\r\n            </ul>\r\n        </div>\r\n          \r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;","import React, { Component } from 'react';\r\nimport Navigation from './Navigation';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Welcome extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          Wilkommen bei Tortuga, einer Listenverwaltung für Freebooter's Fate!\r\n        </div>\r\n\r\n        <div>\r\n          Was möchtest du machen?\r\n        </div>\r\n\r\n        <Link to=\"/new\">Neue Liste anlegen</Link>\r\n        <Link to=\"/lists\">Meine Listen verwalten</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Welcome;","import validateList from \"./validateList\";\r\n\r\nfunction oneLeader(list) {\r\n    const leaders = list.filter((character) => character.type === 'A');\r\n\r\n    return leaders.length > 1 ? 'Nur ein Anführer ist erlaubt.' : null;\r\n}\r\n\r\nexport default oneLeader;","import oneLeader from './oneLeader'\r\n\r\nconst rules = [\r\n    oneLeader\r\n];\r\n\r\nfunction validateList(list) {\r\n    return rules.map((rule) => rule(list))\r\n        .filter((error) => error !== null);\r\n}\r\n\r\nexport default validateList;","import React, { Component } from 'react';\r\nimport { characterById, charactersByFaction } from './data/Characters';\r\nimport validateList from './rules/validateList';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\n\r\nconst TYPE_ORDER = 'ASG';\r\n\r\nclass NewList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const characters = charactersByFaction('PIR')\r\n        characters.sort(this.sortByType);\r\n\r\n        this.state = {\r\n            chars: [],\r\n            allChars: characters,\r\n            errors: [],\r\n            errorsVisible: false\r\n        };\r\n    }\r\n\r\n    sortByType(char1, char2) {\r\n        const type1 = char1.type;\r\n        const type2 = char2.type;\r\n\r\n        if (type1 === type2) {\r\n            return char1.name.localeCompare(char2.name);\r\n        }\r\n\r\n        const order1 = TYPE_ORDER.indexOf(type1);\r\n        const order2 = TYPE_ORDER.indexOf(type2);\r\n\r\n        return order1 < order2 ? -1 : 1;\r\n    }\r\n\r\n    addChar(id) {\r\n        const item = characterById(id)\r\n\r\n        // FIXME: checken, ob das state-handling so richtig ist. wirkt komisch direkt auf this.state zuzugreifen\r\n        const updatedChars = [...this.state.chars, item ];\r\n        const errors = validateList(updatedChars);\r\n\r\n        this.setState({\r\n            chars: updatedChars,\r\n            errors: errors,\r\n            errorsVisible: (errors.length > 0)\r\n        })\r\n    }\r\n\r\n    removeChar(removedIndex) {\r\n        const updatedChars = this.state.chars.filter((_, index) => {\r\n            return index !== removedIndex;\r\n        })\r\n\r\n        const errors = validateList(updatedChars);\r\n        \r\n        this.setState({\r\n            chars: updatedChars,\r\n            errors: errors,\r\n            errorsVisible: (errors.length > 0)\r\n        })\r\n    }\r\n\r\n    typeNameOf(type) {\r\n        switch (type) {\r\n            case 'A':\r\n                return 'Anführer';\r\n            case 'S':\r\n                return 'Spezialist';\r\n            case 'G':\r\n                return 'Gefolge';\r\n            default:\r\n                return 'Unbekannt';\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const errorsVisible = this.state.errorsVisible;\r\n\r\n        // TODO: sub-komponenten auslagern\r\n        // TODO: meldung wenn keine charaktere ausgewählt sind\r\n        // TODO: farblegende für typen\r\n\r\n        return (\r\n            <div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"user-select-none\">Ausgewählte Charaktere</h5>\r\n                </div>\r\n            </div>\r\n                <CSSTransition in={errorsVisible} unmountOnExit timeout={250} classNames=\"alert\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <div className=\"alert alert-danger\" role=\"alert\">\r\n                                Fehler:\r\n                                <ul>\r\n                                    {this.state.errors.map((error, index) => \r\n                                        <li key={index}>{ error }</li>\r\n                                    )}\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </CSSTransition>\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                            <ul className=\"list-group\">\r\n                                <TransitionGroup>\r\n                                    {this.state.chars.map((value, index) =>\r\n                                        <CSSTransition key={index} timeout={250} classNames=\"listChar\">\r\n                                            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                                <span className=\"mr-auto\">{value.name}</span>                            \r\n                                                <span className={`badge badge-primary badge-pill t-type-${value.type.toLowerCase()} m-2`}>{this.typeNameOf(value.type)}</span>\r\n                                                <span className=\"badge badge-primary badge-pill m-2\">{value.costs}</span>\r\n                                                <button type=\"button\" className=\"btn btn-danger\" onClick={this.removeChar.bind(this, index)}>X</button>\r\n                                            </li>\r\n                                        </CSSTransition>\r\n                                    )}\r\n                                </TransitionGroup>\r\n                            </ul>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <h5 className=\"user-select-none\">Charakter hinzufügen</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                    <div className=\"list-group\">\r\n                            {this.state.allChars.map((value) =>\r\n                                <a key={value.id} href=\"#\" className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\" onClick={this.addChar.bind(this, value.id)}>\r\n                                    <span className=\"mr-auto\">{value.name}</span>   \r\n                                    <span className={`badge badge-primary badge-pill t-type-${value.type.toLowerCase()} m-2`}>{this.typeNameOf(value.type)}</span>\r\n                                    <span className=\"badge badge-primary badge-pill m-2\">{value.costs}</span>\r\n                                </a>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewList;","import Chars from './characters_v1.json';\r\n\r\nfunction characterById(id) {\r\n    return Chars.chars.find((item) => {\r\n        return item.id === id\r\n    })\r\n}\r\n\r\nfunction charactersByFaction(faction) {\r\n    return Chars.chars.filter((item) => {\r\n        return item.factions.includes(faction)\r\n    })\r\n}\r\n\r\nexport {\r\n    characterById,\r\n    charactersByFaction\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ManageLists extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        TODO: Listen verwalten\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageLists;","import React, { Component } from 'react';\r\nimport Navigation from './Navigation';\r\nimport Welcome from './Welcome';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\nimport NewList from './NewList';\r\nimport ManageLists from './ManageLists';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router basename=\"/tortuga/build\">\r\n        <div className=\"container\">\r\n          <Navigation/>\r\n\r\n          <Switch>\r\n            <Route path=\"/new\">\r\n              <NewList/>\r\n            </Route>\r\n            <Route path=\"/lists\">\r\n              <ManageLists/>\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Welcome/>\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n// Bootstrap stuff\r\nimport $ from 'jquery';\r\nimport Popper from 'popper.js';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './assets/style.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}